# notes
- document database
- all data is stored in json like objects -> stored in collections that can be queried
- allows data to be frequently accessed to be grouped together
- database is easier to horizontally scale via sharding
    - sharding
- new document has an object id
    - unique to that collection
    - can define multiple fields which correspond to different data types
- to make access faster
    - secondary indices can be made
- aggregation pipeline can be made
- document-oriented, noSQL database
    - document based: represents hierarchical relationship using a single record
    - schema free: lesser data migrations
- data is stored in documents with key-value pairs
    - converts json to binary format
    - all documents are stored in a collection
    - these collections are stored in the MongoDB database

# how does no-sql work?
- relational databases can scale vertically not horizontally
    - vertical scaling: add more floors
    - horizontal scaling: add more buildings
- no-sql get rid of relationships and as such, stands on its own
    - key-value stores
- primary key
    - key allows us to pick which partition contains data
    - primary key is converted to hash value
    - this allows us to choose where to store the item
    - put everthing on a single server
    - the range of the hash of the key: keyspace
- schema-less
- big collections and have small documents

# monogsh
- view database: show dbs 
- use database: use name_db
- show collections: show collections
- delete database: db.dropDatabase()
- clear screen: cls
- you dont create table or collections
    - if it doesnt exist, it will be creatd
- exit: exit out of mongosh
- create database: db
- db.name_of_collection = creates collection
- db.insertOne({}) = insert one document in the collection
- .find() - find all documents
- ObjectId - created very similar to primary key in sqls
- insertMany() -> takes array of objects
- querying:
    - find() = every single thing
    - find().limit(n) = limit to certain results
    - find().sort({x:1/-1}) = 1 -> increasing ; -1 -> decreasing 
        - can sort by multiple fields by adding a comma
    - find().skip(n) - skip the nth entry
    - find( {select what rows to return}). 
        - x:1 -> show; x:0 -> don't show
- complex queries:
    - put another set of an object for the value
    - .find({ name: {complex query is here} })
        - $eq = equals
        - $ne = not equals
        - $gt = greater than
            - compare two things in columns: ["$a", "$b"] => a>b
        - $gte = greater than equal to
        - $lte = less than equal to
        - $lt = less than
        - $in = allows us to do OR operations
        - $nin = opposite of in
        - $exists = check for exists
            - only checks to see if key exists and not the value of the value
        - when you add commas inside the {}, it functions as AND
        - $and = takes an array of factors that you put inside the .find()
        - $or = OR 
        - $not = negates everything inside it
        - $expr = a mathematical expression
        - for nested data: do outside.inside: value
        - countDocuments() => counts documents
- update data
    - updateOne({filter}. {set})
        - for set: use $set to set for specific fields
    - $inc: increments value by the value provided
    - $rename: renames a column
    - $unset: removing it completely from the document
    - $push: pushes two values into one list
    - $pull: removes a value from a list
    - updateMany() -> updates many
    - replaceOne() -> everything at that location and deletes it
- delete data
    - deleteOne() -> deletes data
    - deleteMany() -> deletes many

